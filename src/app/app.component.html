<div class="vh-100">
  <div class="h-100 d-flex flex-column">
    <app-header></app-header>
    <!-- <div class="container">
      <form
        class="mt-3"
        [formGroup]="usernameForm"
        (ngSubmit)="onSetUsername()"
      >
        <input
          class="form-control mb-3"
          formControlName="username"
          type="text"
        />
        <button class="btn-primary btn mb-3" type="submit">Set Username</button>
      </form>
    </div> -->
    <div class="row flex-grow-1 mx-0">
      <div class="col-2 px-0 border-x d-flex">
        <div
          class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark w-100"
        >
          <span
            class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none"
          >
            <span class="material-symbols-outlined me-3"> forum </span>
            <span class="fs-4">Groups</span>
          </span>
          <hr />
          <ul class="nav nav-pills flex-column mb-auto">
            @for (group of groups$ | async; track group._id) {
            <app-group
              [groupName]="group.name"
              [groupId]="group._id"
            ></app-group>
            }
          </ul>
          <hr />
          <div class="dropdown">
            <a
              href="#"
              class="d-flex align-items-center text-white text-decoration-none dropdown-toggle"
              id="dropdownUser1"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              <!-- User icon -->
              <img
                src="https://github.com/mdo.png"
                alt=""
                width="32"
                height="32"
                class="rounded-circle me-2"
              />
              <!-- username here -->
              <strong>mdo</strong>
            </a>
            <ul
              class="dropdown-menu dropdown-menu-dark text-small shadow"
              aria-labelledby="dropdownUser1"
            >
              <li><a class="dropdown-item">Logout</a></li>
            </ul>
          </div>
        </div>
      </div>

      <div class="col-2 px-0 border-x d-flex">
        <div
          class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark w-100"
        >
          <span
            class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none"
          >
            <!-- <span class="material-symbols-outlined me-3"> forum </span> -->
            <span class="fs-4">Rooms</span>
          </span>
          <hr />
          <ul class="nav nav-pills flex-column mb-auto">
            @for (room of rooms$ | async; track room._id) {
            <app-room
              [roomName]="room.name"
              [groupId]="(activeGroup$ | async)!._id"
              [roomId]="room._id"
            ></app-room>
            }
          </ul>
        </div>
      </div>
      <div class="col-8">
        <app-message-box></app-message-box>
        @for (history of history$ | async; track $index) {
        <app-message
          [username]="history.username"
          [message]="history.message"
        ></app-message>
        }
      </div>
    </div>
  </div>
</div>
